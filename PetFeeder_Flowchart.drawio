<mxfile host="app.diagrams.net">
  <diagram name="PetFeeder_Flowchart">
    <mxGraphModel dx="1312" dy="794" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="0"/>
        <mxCell id="1" parent="0"/>
        
        <mxCell id="start" value="Start / System ON" style="ellipse;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="60" y="40" width="120" height="60" as="geometry"/>
        </mxCell>

        <mxCell id="init" value="Init RTC & Sensors" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="60" y="140" width="140" height="60" as="geometry"/>
        </mxCell>

        <mxCell id="maint" value="Maintenance Mode?" style="rhombus;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="60" y="240" width="140" height="80" as="geometry"/>
        </mxCell>

        <mxCell id="manual" value="Manual/Test Controls" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="260" y="240" width="160" height="60" as="geometry"/>
        </mxCell>

        <mxCell id="feedtime" value="Is it Feed Time?" style="rhombus;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="60" y="360" width="140" height="80" as="geometry"/>
        </mxCell>

        <mxCell id="hopper" value="Hopper Level OK?" style="rhombus;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="60" y="480" width="140" height="80" as="geometry"/>
        </mxCell>

        <mxCell id="lowfood" value="Alert: LOW_FOOD" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffcccc" vertex="1" parent="1">
          <mxGeometry x="260" y="480" width="160" height="60" as="geometry"/>
        </mxCell>

        <mxCell id="dispense" value="Dispense Cycle" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="60" y="600" width="140" height="60" as="geometry"/>
        </mxCell>

        <mxCell id="bowlcheck" value="Bowl Weight Δ OK?" style="rhombus;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="60" y="700" width="160" height="80" as="geometry"/>
        </mxCell>

        <mxCell id="retry" value="Retry up to limit" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="260" y="700" width="160" height="60" as="geometry"/>
        </mxCell>

        <mxCell id="nodispense" value="Alert: NO_DISPENSE" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffcccc" vertex="1" parent="1">
          <mxGeometry x="460" y="700" width="180" height="60" as="geometry"/>
        </mxCell>

        <mxCell id="wait" value="Wait Eating Period" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="60" y="820" width="160" height="60" as="geometry"/>
        </mxCell>

        <mxCell id="consumption" value="Consumed ≥ threshold?" style="rhombus;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="60" y="920" width="180" height="80" as="geometry"/>
        </mxCell>

        <mxCell id="success" value="Log: success" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ccffcc" vertex="1" parent="1">
          <mxGeometry x="60" y="1040" width="140" height="60" as="geometry"/>
        </mxCell>

        <mxCell id="noeat" value="Alert: NO_EAT" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffcccc" vertex="1" parent="1">
          <mxGeometry x="260" y="940" width="160" height="60" as="geometry"/>
        </mxCell>

        <mxCell id="end" value="End" style="ellipse;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="60" y="1140" width="120" height="60" as="geometry"/>
        </mxCell>

        <!-- Connections -->
        <mxCell id="edge1" edge="1" parent="1" source="start" target="init"><mxGeometry relative="1" as="geometry"/></mxCell>
        <mxCell id="edge2" edge="1" parent="1" source="init" target="maint"><mxGeometry relative="1" as="geometry"/></mxCell>
        <mxCell id="edge3" edge="1" parent="1" source="maint" target="manual"><mxGeometry relative="1" as="geometry"/></mxCell>
        <mxCell id="edge4" edge="1" parent="1" source="maint" target="feedtime"><mxGeometry relative="1" as="geometry"/></mxCell>
        <mxCell id="edge5" edge="1" parent="1" source="feedtime" target="hopper"><mxGeometry relative="1" as="geometry"/></mxCell>
        <mxCell id="edge6" edge="1" parent="1" source="hopper" target="lowfood"><mxGeometry relative="1" as="geometry"/></mxCell>
        <mxCell id="edge7" edge="1" parent="1" source="hopper" target="dispense"><mxGeometry relative="1" as="geometry"/></mxCell>
        <mxCell id="edge8" edge="1" parent="1" source="dispense" target="bowlcheck"><mxGeometry relative="1" as="geometry"/></mxCell>
        <mxCell id="edge9" edge="1" parent="1" source="bowlcheck" target="retry"><mxGeometry relative="1" as="geometry"/></mxCell>
        <mxCell id="edge10" edge="1" parent="1" source="retry" target="nodispense"><mxGeometry relative="1" as="geometry"/></mxCell>
        <mxCell id="edge11" edge="1" parent="1" source="bowlcheck" target="wait"><mxGeometry relative="1" as="geometry"/></mxCell>
        <mxCell id="edge12" edge="1" parent="1" source="wait" target="consumption"><mxGeometry relative="1" as="geometry"/></mxCell>
        <mxCell id="edge13" edge="1" parent="1" source="consumption" target="success"><mxGeometry relative="1" as="geometry"/></mxCell>
        <mxCell id="edge14" edge="1" parent="1" source="consumption" target="noeat"><mxGeometry relative="1" as="geometry"/></mxCell>
        <mxCell id="edge15" edge="1" parent="1" source="success" target="end"><mxGeometry relative="1" as="geometry"/></mxCell>
        <mxCell id="edge16" edge="1" parent="1" source="noeat" target="end"><mxGeometry relative="1" as="geometry"/></mxCell>

      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
